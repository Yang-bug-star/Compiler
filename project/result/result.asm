.data
_prompt: .asciiz "Enter an integer:"
_ret: .asciiz "\n"
.globl main
.text
get_input:
   li $v0,4
   la $a0,_prompt
   syscall
   li $v0,5
   syscall
   jr $ra

print:
   li $v0,1
   syscall
   li $v0,4
   la $a0,_ret
   syscall
   move $v0,$0
   jr $ra

factorial:
	addi $t0,$a0,0
	li $t0,1
	bgt $t0,$t0,gt1
	li $t1,0
	j gt2
gt1:
	li $t1,1
gt2:
	xori $t1,$t1,1
	beq $t1,$zero,label1
	addi $v0,$zero,1
	jr $ra
	j label2
label1:
	addi $t3,$t0,-1
	addi $sp,$sp,-76
	sw $ra,0($sp)
	sw $t0,4($sp)
	sw $t1,8($sp)
	sw $t2,12($sp)
	sw $t3,16($sp)
	sw $t4,20($sp)
	sw $t5,24($sp)
	sw $t6,28($sp)
	sw $t7,32($sp)
	sw $t8,36($sp)
	sw $t9,40($sp)
	sw $s0,44($sp)
	sw $s1,48($sp)
	sw $s2,52($sp)
	sw $s3,56($sp)
	sw $s4,60($sp)
	sw $s5,64($sp)
	sw $s6,68($sp)
	sw $s7,72($sp)
	addi $a0,$t3,0
	jal factorial
	lw $ra,0($sp)
	lw $t0,4($sp)
	lw $t1,8($sp)
	lw $t2,12($sp)
	lw $t3,16($sp)
	lw $t4,20($sp)
	lw $t5,24($sp)
	lw $t6,28($sp)
	lw $t7,32($sp)
	lw $t8,36($sp)
	lw $t9,40($sp)
	lw $s0,44($sp)
	lw $s1,48($sp)
	lw $s2,52($sp)
	lw $s3,56($sp)
	lw $s4,60($sp)
	lw $s5,64($sp)
	lw $s6,68($sp)
	lw $s7,72($sp)
	addi $sp,$sp,76
	addi $t4,$v0,0
	mul $t7,$t0,$t4
	addi $v0,$t7,0
	jr $ra
label2:
main:
	addi $t8,$a0,0
	li $t9,2
	li $s1,1
	addi $sp,$sp,-76
	sw $ra,0($sp)
	sw $t0,4($sp)
	sw $t1,8($sp)
	sw $t2,12($sp)
	sw $t3,16($sp)
	sw $t4,20($sp)
	sw $t5,24($sp)
	sw $t6,28($sp)
	sw $t7,32($sp)
	sw $t8,36($sp)
	sw $t9,40($sp)
	sw $s0,44($sp)
	sw $s1,48($sp)
	sw $s2,52($sp)
	sw $s3,56($sp)
	sw $s4,60($sp)
	sw $s5,64($sp)
	sw $s6,68($sp)
	sw $s7,72($sp)
	addi $a0,$t8,0
	jal get_input
	lw $ra,0($sp)
	lw $t0,4($sp)
	lw $t1,8($sp)
	lw $t2,12($sp)
	lw $t3,16($sp)
	lw $t4,20($sp)
	lw $t5,24($sp)
	lw $t6,28($sp)
	lw $t7,32($sp)
	lw $t8,36($sp)
	lw $t9,40($sp)
	lw $s0,44($sp)
	lw $s1,48($sp)
	lw $s2,52($sp)
	lw $s3,56($sp)
	lw $s4,60($sp)
	lw $s5,64($sp)
	lw $s6,68($sp)
	lw $s7,72($sp)
	addi $sp,$sp,76
	addi $s2,$v0,0
	move $s4,$s2
	li $s5,1
label3:
	addi $s6,$s4,1
	slt $s7,$s5,$s6
	bne $s7,$zero,label4
	j label5
label4:
	addi $sp,$sp,-76
	sw $ra,0($sp)
	sw $t0,4($sp)
	sw $t1,8($sp)
	sw $t2,12($sp)
	sw $t3,16($sp)
	sw $t4,20($sp)
	sw $t5,24($sp)
	sw $t6,28($sp)
	sw $t7,32($sp)
	sw $t8,36($sp)
	sw $t9,40($sp)
	sw $s0,44($sp)
	sw $s1,48($sp)
	sw $s2,52($sp)
	sw $s3,56($sp)
	sw $s4,60($sp)
	sw $s5,64($sp)
	sw $s6,68($sp)
	sw $s7,72($sp)
	addi $a0,$s5,0
	jal factorial
	lw $ra,0($sp)
	lw $t0,4($sp)
	lw $t1,8($sp)
	lw $t2,12($sp)
	lw $t3,16($sp)
	lw $t4,20($sp)
	lw $t5,24($sp)
	lw $t6,28($sp)
	lw $t7,32($sp)
	lw $t8,36($sp)
	lw $t9,40($sp)
	lw $s0,44($sp)
	lw $s1,48($sp)
	lw $s2,52($sp)
	lw $s3,56($sp)
	lw $s4,60($sp)
	lw $s5,64($sp)
	lw $s6,68($sp)
	lw $s7,72($sp)
	addi $sp,$sp,76
	addi $t0,$v0,0
	add $t2,$t0,$s1
	addi $sp,$sp,-76
	sw $ra,0($sp)
	sw $t0,4($sp)
	sw $t1,8($sp)
	sw $t2,12($sp)
	sw $t3,16($sp)
	sw $t4,20($sp)
	sw $t5,24($sp)
	sw $t6,28($sp)
	sw $t7,32($sp)
	sw $t8,36($sp)
	sw $t9,40($sp)
	sw $s0,44($sp)
	sw $s1,48($sp)
	sw $s2,52($sp)
	sw $s3,56($sp)
	sw $s4,60($sp)
	sw $s5,64($sp)
	sw $s6,68($sp)
	sw $s7,72($sp)
	addi $a0,$t2,0
	jal print
	lw $ra,0($sp)
	lw $t0,4($sp)
	lw $t1,8($sp)
	lw $t2,12($sp)
	lw $t3,16($sp)
	lw $t4,20($sp)
	lw $t5,24($sp)
	lw $t6,28($sp)
	lw $t7,32($sp)
	lw $t8,36($sp)
	lw $t9,40($sp)
	lw $s0,44($sp)
	lw $s1,48($sp)
	lw $s2,52($sp)
	lw $s3,56($sp)
	lw $s4,60($sp)
	lw $s5,64($sp)
	lw $s6,68($sp)
	lw $s7,72($sp)
	addi $sp,$sp,76
	addi $t3,$v0,0
	move $t5,$s5
	addi $s5,$s5,1
	j label3
label5:
	addi $v0,$zero,0
	jr $ra
